<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Blog</title>
    <link href="https://fonts.googleapis.com/css?family=Calistoga|Lato&display=swap" rel="stylesheet">
    <link rel="stylesheet" th:href="@{~/css/main.css}">
</head>
<body>

<header class="site__title">
    <h1>Blog</h1>
</header>

<div class="container">

    <form th:action="@{~/new}" method="POST" th:object="${newPost}">
        <div class="input">
            <label for="username" class="text__label" th:text="#{username}"></label>
            <input id="username" type="text" class="input__text" th:field="*{username}">
        </div>
        <div class="input">
            <label for="title" class="text__label" th:text="#{title}"></label>
            <input id="title" type="text" class="input__text" th:field="*{title}">
        </div>
        <div class="input">
            <p class="text__label" th:text="#{content}"></p>
            <textarea name="post_content" id="post_content" th:field="*{content}"></textarea>
        </div>
        <div class="input">
            <input class="btn" type="submit" th:value="#{submit}">
        </div>
    </form>

</div>

<div class="container">

    <div class="blogpost" th:each="post : ${posts}">
        <p  class="blogpost__post-date" th:text="|Posted on: ${post.date} by ${post.username}|"></p>
        <h2 class="blogpost__title" th:text="${post.title}"></h2>
        <p  class="blogpost__content" th:text="${post.content}"></p>
        <div class="btn__wrapper">
            <a class="btn" th:href="@{~/delete/{id}(id = ${post.id})}" th:text="#{delete}"></a>
        </div>
    </div>

</div>

</body>
</html>